<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¹³æ£®å…ˆç”Ÿã®çµŒå–¶æ•™å®¤ï¼šä¸€äººç”Ÿç”£æ€§175ä¸‡å††ã®ç§˜å¯†</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #f8fafc; /* Slate 50 */
            color: #1e293b; /* Slate 800 */
        }
        .step-card {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            overflow: hidden;
        }

        /* Bucket Animation Styles */
        .water-stream {
            width: 10px;
            background-color: #3b82f6;
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            animation: flow 1s linear infinite;
        }
        .water-level {
            width: 100%;
            background-color: #60a5fa; /* Blue 400 */
            position: absolute;
            bottom: 0;
            left: 0;
            transition: height 1s linear;
        }
        .water-leak {
            width: 6px;
            background-color: #60a5fa;
            position: absolute;
            bottom: -50px;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
        }
        .water-leak.leaking {
            opacity: 1;
            height: 50px;
            animation: flow 0.5s linear infinite;
        }

        /* Tree/Agriculture Animation */
        .tree-container {
            position: relative;
            height: 200px;
            display: flex;
            align-items: flex-end;
            justify-content: center;
        }
        .tree-stage {
            transition: all 0.5s ease-out;
            transform-origin: bottom center;
        }
        .fruit {
            position: absolute;
            font-size: 20px;
            opacity: 0;
            transform: scale(0);
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .fruit.visible {
            opacity: 1;
            transform: scale(1);
        }

        @keyframes flow {
            0% { opacity: 0.6; }
            50% { opacity: 1; }
            100% { opacity: 0.6; }
        }
        @keyframes grow {
            from { transform: scaleY(0); }
            to { transform: scaleY(1); }
        }

        /* Interactive Toggle Switch */
        .model-toggle {
            cursor: pointer;
            transition: all 0.3s;
        }
        .model-toggle.active {
            background-color: #eab308; /* Amber 500 */
            color: white;
            border-color: #eab308;
        }
    </style>

    <!-- Palette: Consistent with previous lecture (Navy & Gold) -->
    <!-- Application Structure:
         1. Hero: The "175 Million" Productivity Hook.
         2. Step 1: The Paradox (Don't try hard).
         3. Step 2: Bucket Theory Visualized (Leak vs No Leak).
         4. Step 3: Hunting vs Farming Model Comparison.
         5. Step 4: Health Deviation Value & Harvest.
         6. Footer.
    -->

    <!-- CONFIRMATION: NO SVG graphics used (using CSS/Emoji/Canvas). NO Mermaid JS used. -->
</head>
<body class="antialiased pb-20">

    <!-- Header Section -->
    <header class="bg-slate-900 text-white py-12 px-4 sm:px-6 lg:px-8 shadow-xl">
        <div class="max-w-4xl mx-auto text-center">
            <div class="inline-block bg-amber-500 text-slate-900 text-sm font-bold px-3 py-1 rounded-full mb-4 shadow-lg">
                å¹³æ£®å…ˆç”Ÿã®çµŒå–¶æ•™å®¤ Vol.2
            </div>
            <h1 class="text-3xl sm:text-4xl md:text-5xl font-black mb-6 leading-tight tracking-tight">
                ãªãœ<span class="text-amber-400">é ‘å¼µã‚‰ãªã„</span>ã®ã«ã€<br>ä¸€äººç”Ÿç”£æ€§<span class="text-amber-400 text-6xl align-middle mx-2">175</span>ä¸‡å††ãªã®ã‹ï¼Ÿ
            </h1>
            <p class="text-lg text-slate-300 max-w-2xl mx-auto border-t border-slate-700 pt-6 mt-6">
                æ¥­ç•Œå¹³å‡ï¼ˆ60ã€œ80ä¸‡å††ï¼‰ã®ç´„<span class="font-bold text-white">3å€</span>ã€‚<br>
                ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ³ã‚°ã‚‚ã€é«˜é¡å›æ•°åˆ¸ã‚‚ã€æ–°è¦é›†å®¢ã‚‚é ‘å¼µã‚‰ãªã„ã€‚<br>
                ãã®ç§˜å¯†ã¯ã€ãƒã‚±ãƒ„ã®ã€Œåº•ã€ã«ã‚ã‚Šã¾ã—ãŸã€‚
            </p>
        </div>
    </header>

    <!-- Navigation (Simple Anchor Links) -->
    <nav class="sticky top-0 z-50 bg-white/95 backdrop-blur shadow-sm border-b border-slate-200">
        <div class="max-w-4xl mx-auto px-4">
            <div class="flex justify-between items-center py-4 text-xs sm:text-sm font-bold text-slate-500 overflow-x-auto whitespace-nowrap gap-4">
                <a href="#intro" class="hover:text-amber-600 transition-colors">1. 3å€ã®ç”Ÿç”£æ€§</a>
                <a href="#bucket" class="hover:text-amber-600 transition-colors">2. ãƒã‚±ãƒ„ã®ç©´</a>
                <a href="#farming" class="hover:text-amber-600 transition-colors">3. ç‹©çŒŸvsè¾²è€•</a>
                <a href="#harvest" class="hover:text-amber-600 transition-colors">4. å®ŸãŒãªã‚‹ä»•çµ„ã¿</a>
            </div>
        </div>
    </nav>

    <main class="max-w-4xl mx-auto px-4 py-8 space-y-16">

        <!-- Intro: The Paradox -->
        <section id="intro" class="scroll-mt-24">
            <div class="step-card p-8 bg-gradient-to-br from-white to-slate-50 border-l-8 border-amber-500">
                <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center gap-3">
                    <span class="bg-slate-800 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm">?</span>
                    ãªãœã€é ‘å¼µã‚‰ãªã„æ–¹ãŒå£²ã‚Œã‚‹ã®ã‹ï¼Ÿ
                </h2>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="space-y-4 text-slate-600">
                        <p>
                            å¤šãã®å…ˆç”Ÿã¯ã€å£²ä¸Šã‚’ä¸Šã’ã‚ˆã†ã¨ã—ã¦<br>
                            <span class="font-bold text-blue-600 bg-blue-50 px-1">ã€Œæ–°è¦é›†å®¢ï¼ˆè›‡å£ï¼‰ã€ã‚’å…¨é–‹</span>ã«ã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚
                        </p>
                        <p>
                            ãã—ã¦ã€æ¥ãŸæ‚£è€…ã•ã‚“ã«ã¯<br>
                            <span class="font-bold text-red-500 bg-red-50 px-1">ã€Œé«˜é¡å›æ•°åˆ¸ã€ã§ã‚¯ãƒ­ãƒ¼ã‚¸ãƒ³ã‚°</span>ã‚’ã‹ã‘ã¾ã™ã€‚
                        </p>
                        <p class="font-bold text-slate-800 pt-2">
                            å®Ÿã¯ã€ã“ã‚Œã“ããŒã€Œçµ‚ã‚ã‚Šã®ãªã„åŠ´åƒã€ã®åŸå› ã§ã™ã€‚
                        </p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-inner border border-slate-200 text-center">
                        <p class="text-xs text-slate-400 mb-2 uppercase tracking-widest">Productivity Comparison</p>
                        <div class="flex items-end justify-center gap-4 h-40 pb-2">
                            <div class="w-16 bg-slate-300 rounded-t-lg relative group" style="height: 35%">
                                <span class="absolute -top-6 w-full text-xs font-bold text-slate-500">å¹³å‡<br>60ä¸‡</span>
                                <span class="absolute bottom-2 w-full text-xs text-slate-500 opacity-0 group-hover:opacity-100 transition-opacity">é ‘å¼µã‚‹</span>
                            </div>
                            <div class="w-16 bg-amber-400 rounded-t-lg relative group shadow-[0_0_15px_rgba(251,191,36,0.5)]" style="height: 100%">
                                <span class="absolute -top-6 w-full text-lg font-black text-amber-600">175ä¸‡</span>
                                <span class="absolute bottom-2 w-full text-xs font-bold text-white opacity-0 group-hover:opacity-100 transition-opacity">é ‘å¼µã‚‰ãªã„</span>
                            </div>
                        </div>
                        <p class="text-xs text-slate-500 mt-2">ç§ã®é™¢ã¯ã€ã‚¹ã‚¿ãƒƒãƒ•å…¨å“¡ãŒã“ã®æ°´æº–ã§ã™ã€‚</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Step 2: The Bucket Theory (Interactive) -->
        <section id="bucket" class="scroll-mt-24">
            <h3 class="text-blue-900 font-bold tracking-wider text-sm uppercase mb-2">The Bucket Theory</h3>
            <h2 class="text-3xl font-bold text-slate-900 mb-6">ãƒã‚±ãƒ„ã®ã€Œç©´ã€ã¨ã€Œè›‡å£ã€ã®è©±</h2>

            <div class="step-card p-8">
                <!-- Controls -->
                <div class="flex justify-center mb-8 bg-slate-100 p-1 rounded-lg w-max mx-auto">
                    <button onclick="setBucketMode('leaky')" id="btn-leaky" class="model-toggle px-6 py-2 rounded-md font-bold text-sm text-slate-500 hover:text-slate-800">
                        ä¸€èˆ¬çš„ãªé™¢ (ç‹©çŒŸå‹)
                    </button>
                    <button onclick="setBucketMode('solid')" id="btn-solid" class="model-toggle active px-6 py-2 rounded-md font-bold text-sm bg-white shadow-sm text-slate-800">
                        ç§ã®é™¢ (è¾²è€•å‹)
                    </button>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                    <!-- Text Explanation -->
                    <div class="flex flex-col justify-center space-y-4">
                        <div id="text-leaky" class="hidden">
                            <h4 class="text-xl font-bold text-red-500 mb-2">ğŸš« è‡ªã‚‰ç©´ã‚’é–‹ã‘ã¦ã„ã¾ã›ã‚“ã‹ï¼Ÿ</h4>
                            <p class="text-slate-600">
                                ã€Œå›æ•°åˆ¸ãŒçµ‚ã‚ã£ãŸã‚‰å’æ¥­ã€<br>
                                ã€Œç—›ã¿ãŒå–ã‚ŒãŸã‚‰å’æ¥­ã€
                            </p>
                            <p class="text-slate-600 mt-2">
                                ã“ã‚Œã¯ã€ã›ã£ã‹ãæºœã‚ãŸæ°´ï¼ˆåˆ©ç›Šï¼‰ã‚’ã€<br>
                                <strong>ã€Œå’æ¥­ã€ã¨ã„ã†åã®ç©´</strong>ã‹ã‚‰æ¨ã¦ã¦ã„ã‚‹ã®ã¨åŒã˜ã§ã™ã€‚<br>
                                ã ã‹ã‚‰ã€å¸¸ã«æ–°ã—ã„æ°´ã‚’æ³¨ãç¶šã‘ã‚‹ï¼ˆé›†å®¢ã™ã‚‹ï¼‰å¿…è¦ãŒã‚ã‚‹ã®ã§ã™ã€‚
                            </p>
                        </div>
                        <div id="text-solid">
                            <h4 class="text-xl font-bold text-amber-500 mb-2">âœ… ç©´ãŒãªã„ã‹ã‚‰ã€æº¢ã‚Œã‚‹</h4>
                            <p class="text-slate-600">
                                ç§ã®é™¢ã®é›¢æ‚£ç‡ã¯<strong>5ã€œ6%</strong>ã€‚<br>
                                ã¤ã¾ã‚Šã€<strong>95%ã®æ‚£è€…ã•ã‚“ãŒç¿Œæœˆã‚‚æ®‹ã‚Šã¾ã™ã€‚</strong>
                            </p>
                            <p class="text-slate-600 mt-2">
                                è›‡å£ï¼ˆé›†å®¢ï¼‰ã‚’ã²ã­ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br>
                                ç©´ã‚’å¡ã„ã§ã„ã‚‹ã ã‘ã§ã€æ°´ï¼ˆåˆ©ç›Šï¼‰ã¯å‹æ‰‹ã«æºœã¾ã‚Šã€<br>
                                ã‚„ãŒã¦æº¢ã‚Œå‡ºã—ã¾ã™ã€‚
                            </p>
                        </div>
                    </div>

                    <!-- Visual Animation -->
                    <div class="relative bg-slate-50 h-64 rounded-xl border border-slate-200 flex justify-center pt-8 overflow-hidden">
                        <!-- Faucet -->
                        <div class="absolute top-2 left-1/2 -translate-x-1/2 text-4xl z-20">ğŸš°</div>

                        <!-- Water Stream -->
                        <div class="water-stream" style="top: 45px; height: 100px;"></div>

                        <!-- Bucket -->
                        <div class="relative w-32 h-40 border-l-4 border-r-4 border-b-4 border-slate-400 rounded-b-lg bg-white/50 z-10 overflow-hidden mt-10">
                            <!-- Water inside -->
                            <div id="bucket-water" class="water-level" style="height: 90%"></div>

                            <!-- The Hole Label -->
                            <div id="hole-label" class="absolute bottom-2 w-full text-center text-xs font-bold text-red-500 hidden">
                                ç©´ï¼ˆå’æ¥­ï¼‰
                            </div>
                        </div>

                        <!-- Leaking Water -->
                        <div id="water-leak" class="water-leak"></div>

                        <!-- Puddle -->
                        <div id="puddle" class="absolute bottom-2 w-48 h-4 bg-blue-200 rounded-full opacity-0 transition-opacity duration-1000"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Step 3: Hunting vs Farming (Chart) -->
        <section id="farming" class="scroll-mt-24">
            <h3 class="text-blue-900 font-bold tracking-wider text-sm uppercase mb-2">Business Model</h3>
            <h2 class="text-3xl font-bold text-slate-900 mb-6">ã€Œç‹©çŒŸå‹ã€ã¨ã€Œè¾²è€•å‹ã€ã®æ±ºå®šçš„ãªé•ã„</h2>

            <div class="step-card p-8">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                    <div class="bg-red-50 p-6 rounded-lg border border-red-100">
                        <div class="text-3xl mb-3">ğŸ¹ ç‹©çŒŸå‹ãƒ¢ãƒ‡ãƒ«</div>
                        <ul class="text-sm text-slate-700 space-y-2">
                            <li>ãƒ»å¸¸ã«æ–°ã—ã„æ‚£è€…ï¼ˆç²ç‰©ï¼‰ã‚’è¿½ã„ã‹ã‘ã‚‹</li>
                            <li>ãƒ»ã€Œä»Šã™ãå®¢ã€ã‚’å¥ªã„åˆã†</li>
                            <li>ãƒ»åŠ´åƒã‚’æ­¢ã‚ã‚‹ã¨ã€åå…¥ã‚‚æ­¢ã¾ã‚‹</li>
                            <li class="font-bold text-red-600 mt-2">ï¼ çµ‚ã‚ã‚Šã®ãªã„åŠ´åƒ</li>
                        </ul>
                    </div>
                    <div class="bg-amber-50 p-6 rounded-lg border border-amber-100">
                        <div class="text-3xl mb-3">ğŸŒ¾ è¾²è€•å‹ãƒ¢ãƒ‡ãƒ«</div>
                        <ul class="text-sm text-slate-700 space-y-2">
                            <li>ãƒ»1äººã®æ‚£è€…ã•ã‚“ã¨é•·ãä»˜ãåˆã†</li>
                            <li>ãƒ»é–¢ä¿‚æ€§ã‚’è‚²ã¦ã¦ã€å®Ÿï¼ˆåˆ©ç›Šï¼‰ã‚’å¾—ã‚‹</li>
                            <li>ãƒ»æ™‚é–“ãŒçµŒã¤ã»ã©è³‡ç”£ãŒç©ã¿ä¸ŠãŒã‚‹</li>
                            <li class="font-bold text-amber-600 mt-2">ï¼ æ¯å¹´ã€åç©«ãŒå¢—ãˆã¦ã„ã</li>
                        </ul>
                    </div>
                </div>

                <div class="h-64 w-full">
                    <canvas id="modelChart"></canvas>
                </div>
                <p class="text-center text-xs text-slate-400 mt-2">
                    æ™‚é–“ã¯çµŒéã™ã‚‹ã»ã©ã€è¾²è€•å‹ï¼ˆç§ã®é™¢ï¼‰ã®åˆ©ç›Šã¯æŒ‡æ•°é–¢æ•°çš„ã«ä¼¸ã³ã¦ã„ãã¾ã™ã€‚
                </p>
            </div>
        </section>

        <!-- Step 4: Health Deviation & Harvest -->
        <section id="harvest" class="scroll-mt-24">
            <h3 class="text-blue-900 font-bold tracking-wider text-sm uppercase mb-2">The Mechanism</h3>
            <h2 class="text-3xl font-bold text-slate-900 mb-6">å¥åº·åå·®å€¤ãŒé«˜ã¾ã‚‹ã¨ã€Œå®Ÿã€ãŒãªã‚‹</h2>

            <div class="step-card p-8 relative overflow-hidden">
                <div class="absolute top-0 right-0 bg-amber-100 text-amber-800 text-xs font-bold px-3 py-1 rounded-bl-lg">
                    SUCCESS MECHANISM
                </div>

                <p class="text-lg text-slate-700 mb-8 leading-relaxed">
                    é•·ãé€šã£ã¦ã„ãŸã ãä¸­ã§ã€ç§ãŸã¡ã¯æ‚£è€…ã•ã‚“ã®<strong>ã€Œå¥åº·åå·®å€¤ã€</strong>ã‚’è‚²ã¦ã¦ã„ã¾ã™ã€‚<br>
                    å¥åº·ã¸ã®æ„è­˜ãŒé«˜ã¾ã£ãŸæ‚£è€…ã•ã‚“ã¯ã€å£²ã‚Šè¾¼ã¾ãªãã¦ã‚‚<br>
                    <span class="bg-amber-100 font-bold px-1">ã€Œå…ˆç”Ÿã€ãã‚Œã‚‚ã‚„ã‚ŠãŸã„ã§ã™ã€</span>ã¨è¨€ã£ã¦ãã ã•ã„ã¾ã™ã€‚
                </p>

                <!-- Interactive Tree Visualization -->
                <div class="bg-gradient-to-b from-blue-50 to-green-50 rounded-xl p-8 border border-slate-200 text-center">
                    <div class="flex flex-col items-center">
                        <div class="mb-4 text-sm font-bold text-slate-500">
                            æ™‚é–“ã®çµŒéï¼ˆé€šé™¢æœŸé–“ï¼‰
                        </div>
                        <!-- Slider for Growth -->
                        <input type="range" id="growthSlider" min="0" max="3" step="1" value="0" class="w-full max-w-md mb-8 accent-green-600 cursor-pointer">

                        <div class="tree-container w-full max-w-md mx-auto">
                            <!-- Ground -->
                            <div class="absolute bottom-0 w-full h-4 bg-[#8d6e63] rounded-full"></div>

                            <!-- Tree Logic (Emoji Based for Simplicity & Performance) -->
                            <div id="tree-visual" class="text-[100px] leading-none relative z-10 transition-all duration-500">
                                ğŸŒ±
                            </div>

                            <!-- Fruits (Absolute positioned relative to container) -->
                            <div id="fruit-1" class="fruit absolute top-10 left-1/3">ğŸ<span class="text-xs bg-white/80 px-1 rounded block shadow-sm">ç‰©è²©</span></div>
                            <div id="fruit-2" class="fruit absolute top-4 right-1/3">ğŸŠ<span class="text-xs bg-white/80 px-1 rounded block shadow-sm">ç¾å®¹</span></div>
                            <div id="fruit-3" class="fruit absolute top-16 right-1/4">ğŸ‡<span class="text-xs bg-white/80 px-1 rounded block shadow-sm">å®¶æ—ç´¹ä»‹</span></div>
                        </div>

                        <div id="growth-text" class="mt-6 text-lg font-bold text-slate-800 h-16">
                            ç¨®ã¾ãï¼šåˆè¨ºãƒ»ä¿¡é ¼æ§‹ç¯‰
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Conclusion -->
        <section class="bg-slate-900 text-white p-10 rounded-3xl text-center space-y-6 shadow-2xl mx-4 lg:mx-0">
            <h2 class="text-2xl font-bold text-amber-400">çµè«–ï¼šåŠªåŠ›ã®æ–¹å‘ã‚’å¤‰ãˆã‚‹</h2>
            <div class="max-w-2xl mx-auto space-y-4 text-slate-300 leading-relaxed text-lg">
                <p>
                    ç§ãŒã€Œé ‘å¼µã£ã¦ã„ãªã„ã€ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br>
                    <span class="text-white font-bold border-b border-white/30">ã€Œé›†å®¢ã€ã‚„ã€Œå£²ã‚Šè¾¼ã¿ã€ã‚’é ‘å¼µã‚‹ã®ã‚’ã‚„ã‚ãŸ</span>ã®ã§ã™ã€‚
                </p>
                <p>
                    ãã®ä»£ã‚ã‚Šã€<br>
                    <span class="text-amber-400 font-bold text-xl">ã€Œç©´ã‚’å¡ãã“ã¨ï¼ˆé›¢æ‚£é˜²æ­¢ï¼‰ã€</span>ã¨<br>
                    <span class="text-amber-400 font-bold text-xl">ã€Œè‚²ã¦ã‚‹ã“ã¨ï¼ˆå¥åº·åå·®å€¤å‘ä¸Šï¼‰ã€</span><br>
                    ã ã‘ã«å…¨åŠ›ã‚’æ³¨ã„ã§ã„ã¾ã™ã€‚
                </p>
                <p class="pt-4">
                    ã“ã‚ŒãŒã€ä¸€äººç”Ÿç”£æ€§175ä¸‡å††ã®æ­£ä½“ã§ã™ã€‚
                </p>
            </div>
        </section>

    </main>

    <footer class="bg-slate-100 text-slate-500 text-center py-8 text-sm border-t border-slate-200">
        <p>&copy; å¹³æ£®å…ˆç”Ÿã®çµŒå–¶æ•™å®¤ | All Rights Reserved.</p>
    </footer>

    <script>
        // --- Bucket Animation Logic ---
        function setBucketMode(mode) {
            const btnLeaky = document.getElementById('btn-leaky');
            const btnSolid = document.getElementById('btn-solid');
            const textLeaky = document.getElementById('text-leaky');
            const textSolid = document.getElementById('text-solid');

            const bucketWater = document.getElementById('bucket-water');
            const leak = document.getElementById('water-leak');
            const puddle = document.getElementById('puddle');
            const holeLabel = document.getElementById('hole-label');

            if (mode === 'leaky') {
                // UI Toggle
                btnLeaky.classList.add('active', 'bg-red-500', 'text-white');
                btnLeaky.classList.remove('text-slate-500');
                btnSolid.classList.remove('active', 'bg-white', 'shadow-sm', 'text-slate-800');
                btnSolid.classList.add('text-slate-500');

                // Text Toggle
                textLeaky.classList.remove('hidden');
                textSolid.classList.add('hidden');

                // Animation State: Leaking
                bucketWater.style.height = '30%'; // Water level drops
                leak.classList.add('leaking');
                puddle.style.opacity = '1';
                holeLabel.classList.remove('hidden');

            } else {
                // UI Toggle
                btnSolid.classList.add('active', 'bg-white', 'shadow-sm', 'text-slate-800');
                btnSolid.classList.remove('text-slate-500');
                btnLeaky.classList.remove('active', 'bg-red-500', 'text-white');
                btnLeaky.classList.add('text-slate-500');

                // Text Toggle
                textSolid.classList.remove('hidden');
                textLeaky.classList.add('hidden');

                // Animation State: Solid
                bucketWater.style.height = '90%'; // Water level rises
                leak.classList.remove('leaking');
                puddle.style.opacity = '0';
                holeLabel.classList.add('hidden');
            }
        }

        // --- Tree Growth Logic ---
        const slider = document.getElementById('growthSlider');
        const treeVisual = document.getElementById('tree-visual');
        const growthText = document.getElementById('growth-text');
        const fruits = [
            document.getElementById('fruit-1'),
            document.getElementById('fruit-2'),
            document.getElementById('fruit-3')
        ];

        const stages = [
            { icon: "ğŸŒ±", text: "ç¨®ã¾ãï¼š<br>åˆè¨ºãƒ»ä¿¡é ¼æ§‹ç¯‰<br><span class='text-sm font-normal text-slate-500'>ã¾ã å®Ÿã¯ãªã‚Šã¾ã›ã‚“</span>" },
            { icon: "ğŸŒ¿", text: "æˆé•·æœŸï¼š<br>å¥åº·åå·®å€¤ã®å‘ä¸Š<br><span class='text-sm font-normal text-slate-500'>ã€Œç—›ã¿ã€ä»¥å¤–ã®ä¾¡å€¤ã«æ°—ã¥ãå§‹ã‚ã¾ã™</span>" },
            { icon: "ğŸŒ³", text: "æˆç†ŸæœŸï¼š<br>ãƒ•ã‚¡ãƒ³åŒ–ãƒ»å®šç€<br><span class='text-sm font-normal text-slate-500'>é›¢æ‚£ç‡5%ä»¥ä¸‹ã®çŠ¶æ…‹</span>" },
            { icon: "ğŸŒ³", text: "åç©«æœŸï¼š<br>LTVæœ€å¤§åŒ–<br><span class='text-sm font-normal text-slate-500'>ã€Œç‰©è²©ã€ã€Œç¾å®¹ã€ã€Œç´¹ä»‹ã€ãŒè‡ªç„¶ç™ºç”Ÿã—ã¾ã™</span>" }
        ];

        slider.addEventListener('input', (e) => {
            const val = parseInt(e.target.value);
            const stage = stages[val];

            treeVisual.innerHTML = stage.icon;
            growthText.innerHTML = stage.text;

            // Manage Fruits visibility
            if (val === 3) {
                fruits.forEach((f, i) => {
                    setTimeout(() => f.classList.add('visible'), i * 200);
                });
            } else {
                fruits.forEach(f => f.classList.remove('visible'));
            }
        });

        // --- Chart.js: Hunting vs Farming ---
        document.addEventListener('DOMContentLoaded', () => {
            // Initial states
            setBucketMode('solid');

            const ctx = document.getElementById('modelChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['1å¹´ç›®', '2å¹´ç›®', '3å¹´ç›®', '4å¹´ç›®', '5å¹´ç›®'],
                    datasets: [
                        {
                            label: 'è¾²è€•å‹ (ç§ã®é™¢)',
                            data: [100, 150, 225, 340, 500], // Exponential growth (Compound interest effect of relationships)
                            borderColor: '#eab308', // Amber
                            backgroundColor: 'rgba(234, 179, 8, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'ç‹©çŒŸå‹ (ä¸€èˆ¬çš„ãªé™¢)',
                            data: [100, 100, 100, 100, 100], // Linear/Flat (Reset every month)
                            borderColor: '#ef4444', // Red
                            borderWidth: 2,
                            borderDash: [5, 5],
                            tension: 0,
                            pointStyle: 'crossRot'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                title: () => '',
                                label: (context) => {
                                    return context.dataset.label + ': åˆ©ç›Šã‚¤ãƒ¡ãƒ¼ã‚¸ ' + context.parsed.y;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            display: false, // Abstract "Profit/Asset" value
                            beginAtZero: true
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>
